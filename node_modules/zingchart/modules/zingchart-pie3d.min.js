/*
All of the code within the ZingChart software is developed and copyrighted by ZingChart, Inc., and may not be copied,
replicated, or used in any other software or application without prior permission from ZingChart. All usage must coincide with the
ZingChart End User License Agreement which can be requested by email at support@zingchart.com.

Build 2.9.6
*/
ZC.WF.push("pie3d"),ZC.A58=ZC.A3T.CA({$i:function(C){this.b(C);var n=this;n.AF="pie3d",n.AY=new ZC.A81(n),n.CK=new ZC.SO,n.AJ["3d"]=!0,n.AJ["enable-animation"]=!1,n.AJ["x-angle-min"]=15,n.AJ["x-angle-max"]=75,n.AJ["y-angle-min"]=0,n.AJ["y-angle-max"]=0,n.AJ["z-angle-min"]=0,n.AJ["z-angle-max"]=0},clear:function(){this.b(),this.CK.clear()},paint:function(){var C=this;C.b(),C.SD(),C.flatten(),C.PZ(),C.F9.length&&(C.CK.clear(),C.KI(),C.SD()),C.UP(),-1===ZC.AV(C.G.KN,"skip_interactivity")&&C.S1()}}),ZC.A81=ZC.A54.CA({ACS:function(){return new ZC.XH(this)}}),ZC.XH=ZC.W5.CA({$i:function(C){this.b(C);this.AF="pie3d",this.NJ=-1},parse:function(){this.b(),this.assign_a([["thickness","NJ","ia"]])},TW:function(){return new ZC.A7F(this)}}),ZC.A7F=ZC.LF.CA({U:null,$i:function(C){this.b(C),this.U=null},parse:function(){this.b()},AB2:function(){this.b();var C=this.C.D;C.update.npv=C.update["node-percent-value"]=this.KG("%npv")},KG:function(C,n,A,i){var e=this,t=e.A.MP();ZC._cp_(n,t),-1===C.indexOf("%npv")&&-1===C.indexOf("%node-percent-value")||null!==ZC._n_(t.decimals)&&-1!==t.decimals||(t.decimals=1);var a=0,Z="0";if(e.A.A.KL[e.L]>0&&(Z=""+(a=100*e.AD/e.A.A.KL[e.L])),e.A.A.A4.length>1&&e.A.L===e.A.A.A4.length-1){var r=0;if(null===ZC._n_(e.A.o.totals)){for(var o=0;o<e.A.A.A4.length-1;o++)if(e.A.A.A4[o].AM&&null!==ZC._n_(e.A.A.A4[o].R[e.L])){var s=0,l="0";e.A.A.KL[e.L]>0&&(l=""+(s=100*e.A.A.A4[o].R[e.L].AD/e.A.A.KL[e.L])),null!==ZC._n_(t.decimals)&&(l=s.toFixed(ZC.BQ(0,ZC._i_(t.decimals)))),r+=ZC._f_(l)}Z=""+(a=Math.max(0,100-r))}}null!==ZC._n_(t.decimals)&&(Z=a.toFixed(ZC.BQ(0,ZC._i_(t.decimals))));var u,E=ZC._f_(e.A.A.KL[e.L]||"0");return u=ZC.AO.G1(E,t,e.A),e.CV=[["%node-percent-value",Z],["%npv",Z],["%pie-total-value",u]],C=e.b(C,n,A,i)},V4:function(C){var n,A=this,i=(A.B4+A.BI)/2%360,e=0;null!==ZC._n_(n=C["offset-r"])&&(e=ZC._f_(ZC._p_(n))),e<1&&(e*=A.AI);var t=new ZC.CC(A.C,(A.CN+.5*(A.AI-A.CN)+A.DT+e)*ZC.EH(i),(A.CN+.5*(A.AI-A.CN)+A.DT+e)*ZC.EO(i),0).EC;return[t[0],t[1],{reference:A,center:!0}]},setup:function(){var C=this,n=C.C.BK(C.A.BT("k")[0]),A=C.L%n.H1,i=Math.floor(C.L/n.H1);C.iX=n.iX+A*n.GK+n.GK/2+n.BL,C.iY=n.iY+i*n.GE+n.GE/2+n.BH,C.I1||(C.copy(C.A),C.E7=C.A.E7,C.DE()&&C.parse(),C.I1=!0)},ABE:function(C){var n={},A="out";return null!==ZC._n_(C.o.placement)&&(A=C.o.placement),n.color="out"===A?this.A0:this.C1,n},AC6:function(C){var n,A=this,i="out";null!==ZC._n_(n=C.o.placement)&&(i=n);var e,t,a,Z,r,o=C.I,s=C.F,l=(A.B4+A.BI)/2%360,u=l;if("out"===i){l=u=A.A.A.YA["n"+A.L][A.A.L];var E=function(n,i){i<0&&(i=360+i),i%=360;var e=ZC.AP.BM(A.iX,A.iY,n+A.DT+C.DT+20,i),t=A.C.EZ["x-angle"];t>45&&A.A.A.A4.length>10&&(A.C.EZ["x-angle"]=45+(t-45)/3),r=new ZC.CC(A.C,e[0]-ZC.AN.E2,e[1]-ZC.AN.E3,0),A.C.EZ["x-angle"]=t,e[0]=r.EC[0],e[1]=r.EC[1];var a=e[0]+C.BL-o/2,Z=e[1]+C.BH-s/2;return i>=0&&i<=90||i>=270&&i<=360?a+=o/2+10:a-=o/2+10,[a,Z]},h=E(A.AI,u);e=h[0],t=h[1],A.U=C;var c={x:e,y:t,width:o,height:s},p=zingchart.DEV.SPREADTYPE;Z=!0;for(var f=0,B=0,I=-1,_=0,d=0;Z&&d<1024;){Z=!1;for(var v=0,D=A.A.A.TM.length;v<D;v++)a=A.A.A.TM[v],(ZC.AP.XU(c,a,A.A.A.A4.length>10?-8:-2)||c.x+C.I>A.C.P.iX+A.C.P.I||c.x<A.C.P.iX||c.y+C.F>A.C.P.iY+A.C.P.F||c.y<A.C.P.iY)&&(Z=!0,0===p?(f+=.4,I*=-1):1===p&&(B+=1),h=E(A.AI+B,u+f*I),c.x=h[0],c.y=h[1],d++,++_>100&&(_=0,0===p?(f=0,B+=4):1===p&&(B=0,f+=1,I*=-1)))}e=c.x,t=c.y,l=u+f,a={text:A.A.AR,x:c.x,y:c.y,width:o,height:s,plotindex:A.A.L,nodeindex:A.L},A.A.A.TM.push(a)}else if("in"===i){var N=A.CN<30?.65:.5,K=ZC.AP.BM(A.iX,A.iY,A.CN+N*(A.AI-A.CN)+A.DT+C.DT,l);r=new ZC.CC(A.C,K[0]-ZC.AN.E2,K[1]-ZC.AN.E3,0),K[0]=r.EC[0],K[1]=r.EC[1],e=K[0]+C.BL-o/2,t=K[1]+C.BH-s/2}else"center"===i&&(e=(r=new ZC.CC(A.C,A.iX-ZC.AN.E2,A.iY-ZC.AN.E3,0)).EC[0]+C.BL-o/2,t=r.EC[1]+C.BH-s/2);return Z&&(e=-9999,t=-9999,C.AM=!1),null!==ZC._n_(C.o.x)&&(e=C.iX),null!==ZC._n_(C.o.y)&&(t=C.iY),e>=-2&&(e=ZC._a_(e)),t>=-2&&(t=ZC._a_(t)),[ZC._i_(e),ZC._i_(t),l]},GW:function(C,n){var A,i=this,e=i.b(C,n);if(C)return e;if(i.AM&&e.AM&&null!==ZC._n_(e.AR)&&""!==e.AR){var t="out";if(null!==ZC._n_(e.o.placement)&&(t=e.o.placement),"out"===t){var a=!0;if(null!==ZC._n_(A=e.o.connected)&&(a=ZC._b_(A)),a){var Z=new ZC.DV(i.A);Z.Z=Z.C7=i.A.CO("bl",0),Z.append(i.A.C2.o),Z.B7=i.A0,Z.DQ="line",Z.E=[];var r=e.D.positioninfo,o=(i.B4+i.BI)/2%360,s=0;o>=0&&o<=180&&(s=i.D.thickness/2);var l=ZC.AP.BM(i.iX,i.iY,i.AI+i.DT+e.DT,o);(l=new ZC.CC(i.C,l[0]-ZC.AN.E2,l[1]-ZC.AN.E3,s).EC)[0]+=i.BL,l[1]+=i.BH,Z.E.push(l);var u=ZC.AP.BM(i.iX,i.iY,i.AI+i.DT+e.DT+20,o);(u=new ZC.CC(i.C,u[0]-ZC.AN.E2,u[1]-ZC.AN.E3,s).EC)[0]+=i.BL,u[1]+=i.BH,e.iX>=i.iX?Z.E.push([u[0],u[1],r[0],r[1]+e.F/2]):Z.E.push([u[0],u[1],r[0]+e.I+2,r[1]+e.F/2]),Z.parse(),Z.JH=function(C){return i.JH(C)},Z.DE()&&Z.parse(),Z.AM&&Z.paint()}}}},paint:function(){var C,n,A,i,e,t,a,Z,r,o=this,s=o.C.CK,l=o.C.BK(o.A.BT("k")[0]),u=o.C.EZ["x-angle"],E=o.C.EZ["y-angle"];o.setup();var h="pie-sel-"+o.A.L+"-"+o.L;if(o.o.detached&&"undefined"==typeof o.C.D[h]&&(o.C.D[h]=!0),!(o.AD<0)){var c=ZC.BQ(.7,ZC.EH(u));o.AI=ZC.CY(l.GE/c,l.GK)/2,null!==ZC._n_(o.A.o.size)?o.AI=o.A.AI:o.AI=l.JN*o.AI,o.CN<1&&(o.CN*=o.AI),o.CN=Math.max(0,o.CN),o.o.slice=o.CN,o.DT<1&&(o.DT*=o.AI),o.o["offset-r"]=o.DT;var p=o.A.NJ;-1===p&&(p=o.AI/5),o.D.thickness=p;var f=o.iX-ZC.AN.E2,B=o.iY-ZC.AN.E3;o.B4=ZC._i_(o.B4),o.BI=ZC._i_(o.BI);var I=(o.B4+o.BI)/2;o.C.D[h]&&(o.DT+=ZC._i_(.15*o.AI)),o.DT>0&&(f+=o.DT*ZC.EH(I),B+=o.DT*ZC.EO(I));var _=o.O=o.A.IC(o,o);_.DJ=o.K+"-3dfacet";var d=new ZC.D0(o);if(d.copy(_),d.A0=ZC.AO.JK(ZC.AO.GB(d.A0)),d.AE=ZC.AO.JK(ZC.AO.GB(d.AE)),o.AD>=0||0===o.A.A.KL[o.L]){for(a=[],C=o.B4,a.push([f+o.CN*ZC.EH(C),B+o.CN*ZC.EO(C),0]),C=o.B4;C<=o.BI;C+=1)a.push([f+o.AI*ZC.EH(C),B+o.AI*ZC.EO(C),0]);for(C=o.BI,a.push([f+o.CN*ZC.EH(C),B+o.CN*ZC.EO(C),0]),C=o.BI;C>=o.B4;C-=1)a.push([f+o.CN*ZC.EH(C),B+o.CN*ZC.EO(C),0]);if((n=ZC.DI.D8(_,o.C,a)).K=o.K+"-facet1",s.add(n),A=null,o.B4%360>=0+E&&o.B4%360<180+E||o.BI%360>0+E){Z=o.B4,r=o.BI;var v=function(C,n,i){var e,t=[];for(e=C,t.push([f+o.AI*ZC.EH(e),B+o.AI*ZC.EO(e),0]),e=C;e<=n;e+=1)t.push([f+o.AI*ZC.EH(e),B+o.AI*ZC.EO(e),0]);for(e=n,t.push([f+o.AI*ZC.EH(e),B+o.AI*ZC.EO(e),p]),e=n;e>=C;e-=1)t.push([f+o.AI*ZC.EH(e),B+o.AI*ZC.EO(e),p]);(A=ZC.DI.D8(d,o.C,t)).MA=[.01,1,1,1],A.K=o.K+"-facet2"+i,s.add(A)};Z<180&&r>360?(v(Z=Z<0?Z+360:Z,180,1),v(360,r,2)):(Z=ZC.BQ(Z,r>360?365:5),(r=ZC.CY(r,r>360?535:175))>Z&&v(Z,r,1))}if(t=null,o.CN>0+E&&o.BI>180+E){for(a=[],C=o.B4,Z=o.B4,o.B4<180+E&&o.BI>180+E&&(C=180+E,Z=180+E),a.push([f+o.CN*ZC.EH(C),B+o.CN*ZC.EO(C),0]),C=Z;C<=o.BI;C+=1)a.push([f+o.CN*ZC.EH(C),B+o.CN*ZC.EO(C),0]);for(C=o.BI,a.push([f+o.CN*ZC.EH(C),B+o.CN*ZC.EO(C),p]),C=o.BI;C>=Z;C-=1)a.push([f+o.CN*ZC.EH(C),B+o.CN*ZC.EO(C),p]);(t=ZC.DI.D8(d,o.C,a)).K=o.K+"-facet3",s.add(t)}var D=function(C,n,A){return[[f+C*ZC.EH(A),B+C*ZC.EO(A),0],[f+C*ZC.EH(A),B+C*ZC.EO(A),p],[f+n*ZC.EH(A),B+n*ZC.EO(A),p],[f+n*ZC.EH(A),B+n*ZC.EO(A),0]]};(i=ZC.DI.D8(d,o.C,{points:D(o.CN,o.AI,o.B4),mathpoints:D(o.CN+1,o.AI+1,o.B4-1)})).K=o.K+"-facet4",s.add(i),(e=ZC.DI.D8(d,o.C,{points:D(o.CN,o.AI,o.BI),mathpoints:D(o.CN+1,o.AI+1,o.BI+1)})).K=o.K+"-facet5",s.add(e);var N=o.C.K+"-node-area "+o.C.K+"-plotset-plot-"+o.A.L+"-node-area zc-node-area",K=ZC.Q.GH("poly",o.A.EA)+'class="'+N+'" id="'+o.K,H=o.A.A.HT;H.push(K+'--top" data-z-sort="1" coords="'+n.FF()+'" />'),A&&H.push(K+'--outer" data-z-sort="1" coords="'+A.FF()+'" />'),(o.CN>0||o.DT>0)&&(t&&H.push(K+'--inner" data-z-sort="2" coords="'+t.FF()+'" />'),H.push(K+'--start" data-z-sort="2" coords="'+i.FF()+'" />',K+'--end" data-z-sort="2" coords="'+e.FF()+'" />'))}o.A.U&&o.GW()}},X3:function(C,n){var A=this;if(A.b(C,n),"click"===n&&C.which<=1&&A.A.A7N){var i="pie-sel-"+A.A.L+"-"+A.L;A.C.D[i]="undefined"==typeof A.C.D[i]||!A.C.D[i],A.C.K3()}}});