/*
All of the code within the ZingChart software is developed and copyrighted by ZingChart, Inc., and may not be copied,
replicated, or used in any other software or application without prior permission from ZingChart. All usage must coincide with the
ZingChart End User License Agreement which can be requested by email at support@zingchart.com.

Build 2.9.6
*/
zingchart.setModule("dragging"),zingchart.bind(null,"node_mouseout",function(){document.body.style.cursor="default"}),zingchart.bind(null,"node_mouseup",function(){document.body.style.cursor="default"}),zingchart.bind(null,"node_click",function(){document.body.style.cursor="default"}),zingchart.bind(null,"node_mousedown",function(e){var a=zingchart.getLoader(e.id),n=(zingchart.getGraph(a,e.graphid),zingchart.getModules(a));if(-1!==ZC.AV(n,"dragging")){e.ev.preventDefault();var t,i=e.ev.shiftKey,d=!0,l=!1,o=0,g=0,c=0,r=0,s=0,u=e.plotindex,p=e.nodeindex,h=e.value,x=[],m=zingchart.getGraph(a,e.graphid).getData(),v={};m.options&&(v=m.options.dragging||m.options);var f=zingchart.exec(e.id,"getobjectinfo",{object:"plot",plotindex:e.plotindex});if(f.xdata.dragging){var z=0;"undefined"!=typeof v.decimals&&(z=parseInt(v.decimals,10)),"undefined"!=typeof f.xdata["dragging-decimals"]&&(z=parseInt(f.xdata["dragging-decimals"],10));var b=null;"undefined"!=typeof f.xdata["dragging-min-value"]&&(b=parseFloat(f.xdata["dragging-min-value"])),"undefined"!=typeof f.xdata["dragging-max-value"]&&(b=parseFloat(f.xdata["dragging-max-value"]));for(var y=0;y<f.scales.length;y++)-1===f.scales[y].indexOf("scale-y")&&-1===f.scales[y].indexOf("scale-v")||(t=f.scales[y]);switch(f.type){case"hbar":case"hbar3d":case"hbullet":document.body.style.cursor="ew-resize";break;case"pie":case"nestedpie":case"pie3d":case"radar":document.body.style.cursor="move";break;default:document.body.style.cursor="ns-resize"}if(-1===ZC.AV(["pie","pie3d","nestedpie"],f.type))var _=zingchart.exec(e.id,"getobjectinfo",{object:"scale",name:t});x=[].concat(zingchart.exec(e.id,"getseriesvalues",{plotindex:e.plotindex})),zingchart.SKIP.LEGEND=!0;var C="height",Z=function(n){d?(g=n.pageX,o=n.pageY,d=!1):(c=n.pageX-g,r=o-n.pageY),n.pageX,n.pageY,e.ev.pageX,e.ev.pageY,function(){switch(f.type){case"hbar":case"hbullet":case"hbar3d":s=c,r=0,C="width";break;case"pie":case"nestedpie":case"pie3d":case"radar":s=(c+r)/2;break;default:s=r,c=0}if(Math.abs(s)>1){l=!0,zingchart.exec(e.id,"setmode",{mode:"static"});var n=zingchart.exec(e.id,"getselection");if(h=-1!==ZC.AV(["pie","pie3d","nestedpie"],f.type)?Math.max(0===z?1:1/z,parseFloat(e.value+s)):f.stacked&&"100%"===f.stackType?parseFloat((e.value+100*s/_[C]).toFixed(z)):parseFloat((e.value+(_.maxValue-_.minValue)*s/_[C]).toFixed(z)),i){for(var t=[],d=0;d<x.length;d++)null===ZC._n_(n)||null===ZC._n_(n[e.plotindex])||null!==ZC._n_(n[e.plotindex])&&-1!==ZC.AV(n[e.plotindex],d)?f.stacked&&"100%"===f.stackType?t[d]=parseFloat((x[d]+100*s/_[C]).toFixed(z)):t[d]=parseFloat((x[d]+(_.maxValue-_.minValue)*s/_[C]).toFixed(z)):t[d]=x[d],null!==ZC._n_(b)&&(t[d]=Math.max(t[d],b)),null!==ZC._n_(null)&&(t[d]=Math.min(t[d],null));zingchart.exec(e.id,"setseriesvalues",{plotindex:e.plotindex,values:t}),e["zingchart.plugins.dragging.update.type"]="plot",e["zingchart.plugins.dragging.update.values"]=t,zingchart.fireEvent("zingchart.plugins.dragging.update",a,e)}else null!==ZC._n_(b)&&(h=Math.max(h,b)),null!==ZC._n_(null)&&(h=Math.min(h,null)),zingchart.exec(e.id,"setnodevalue",{plotindex:e.plotindex,nodeindex:e.nodeindex,value:h}),e["zingchart.plugins.dragging.update.type"]="node",e["zingchart.plugins.dragging.update.value"]=h,zingchart.fireEvent("zingchart.plugins.dragging.update",a,e);zingchart.exec(e.id,"showtooltip",e)}}()};ZC.A5(document.body).bind("mousemove",Z),ZC.A5(document.body).bind("mouseup",function(){ZC.A5(document.body).unbind("mousemove",Z),l&&(d=!0,zingchart.SKIP.LEGEND=!1,zingchart.exec(e.id,"setmode",{mode:""}),i?zingchart.exec(e.id,"update",{}):zingchart.exec(e.id,"setnodevalue",{plotindex:u,nodeindex:p,value:h}),zingchart.fireEvent("zingchart.plugins.dragging.complete",a,e),document.body.style.cursor="default"),l=!1})}}});