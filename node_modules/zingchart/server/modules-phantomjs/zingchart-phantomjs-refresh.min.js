/*
All of the code within the ZingChart software is developed and copyrighted by ZingChart, Inc., and may not be copied,
replicated, or used in any other software or application without prior permission from ZingChart. All usage must coincide with the
ZingChart End User License Agreement which can be requested by email at support@zingchart.com.

Build 2.9.5
*/
ZC.WE.push("refresh"),ZC.JG.prototype.A36=function(){var s,e,t=this,a=0;for(s=0,e=t.BN.length;s<e;s++)"k"===t.BN[s].AF&&t.o[t.BN[s].BD]&&t.o[t.BN[s].BD].values&&(a=ZC.BQ(a,t.o[t.BN[s].BD].values.length));for(s=0,e=t.AY.A4.length;s<e;s++)null!==ZC._n_(t.o.series[s])&&t.o.series[s].values&&(a=ZC.BQ(a,t.o.series[s].values.length));return a},ZC.JG.prototype.U6=function(){var s,e=this;if(e.HN)for(var t=e.A36(),a=0,r=e.BN.length;a<r;a++)"k"===e.BN[a].AF&&(e.BN[a].CQ?(s=(e.BN[a].F-e.BN[a].AA-e.BN[a].BV)/ZC._i_(e.HN["max-ticks"]),e.BN[a].OJ=ZC.BQ(0,e.BN[a].F-t*s)):(s=(e.BN[a].I-e.BN[a].AA-e.BN[a].BV)/ZC._i_(e.HN["max-ticks"]),e.BN[a].OJ=ZC.BQ(0,e.BN[a].I-t*s)),ZC._b_(e.HN["adjust-scale"])&&(e.BN[a].OJ=0),e.BN[a].AA=e.BN[a].A3X+e.BN[a].OJ,e.A.D[e.BN[a].BD+"-feed-offset-start"]=e.BN[a].AA,e.BN[a].W=ZC.BQ(0,e.BN[a].A1-e.HN["max-ticks"]+1),e.BN[a].IZ())},ZC.JG.prototype.AC1=function(){var s=this,H,ML,ws;if(s.D["from-api"]&&(window.clearTimeout(ZC.REFRESH_TICK[s.K]),delete s.D["from-api"]),s.HN){var OP=ZC._i_(s.HN.interval);if(OP=OP>=50?OP:1e3*OP,"full"===s.HN.type)"http"===s.HN.transport?ZC.REFRESH_TICK[s.K]=window.setTimeout(function(){s.A.N2(s),ZC.ZN(function(){s.A.load(s.K,s.A9B)})},OP):"websockets"===s.HN.transport&&ZC.websockets&&(s.G.S9[s.K]?"pull"===s.HN.method&&(ZC.REFRESH_TICK[s.K]=window.setTimeout(function(){s.G.S9[s.K].send("zingchart.getdata")},OP)):(ws=new WebSocket(s.HN.url,"zingchart"),ws.onopen=function(){ws.send("zingchart."+s.HN.type),ws.send("zingchart."+s.HN.method),ws.send("zingchart.getdata")},ws.onmessage=function(e){"ready"===s.M8&&(s.A.N2(s),s.M8="full",ZC.ZN(function(){zingchart.exec(s.A.K,"setdata",{graphid:s.K,data:e.data,softclear:!0})}))},s.G.S9[s.K]=ws));else if("feed"===s.HN.type&&null!==ZC._n_(s.HN.url)){if(null!==ZC._n_(s.HN.curtain)){var OC=s.BT("k");if(OC.length>0&&(ZC.Q.EU(s.K+"-curtain-t"),OC[0].OJ>0)){var LV=new ZC.DU(s);s.A.B8.load(LV.o,"("+s.AF+").refresh.curtain"),LV.append(s.HN.curtain),LV.parse(),LV.AM&&(OC[0].CQ&&LV.F<=OC[0].OJ||!OC[0].CQ&&LV.I<=OC[0].OJ)&&(LV.K=s.K+"-curtain-t",LV.IK=ZC.AK(s.A.K+"-text-top"),OC[0].CQ?(LV.F>OC[0].OJ&&(LV.AR="",LV.parse()),LV.iX=s.P.iX,LV.iY=OC[0].AW?s.P.iY:s.P.iY+s.P.F-OC[0].OJ,LV.I=s.P.I,LV.F=OC[0].OJ):(LV.I>OC[0].OJ&&(LV.AR="",LV.parse()),LV.iX=OC[0].AW?s.P.iX+s.P.I-OC[0].OJ:s.P.iX,LV.iY=s.P.iY,LV.I=OC[0].OJ,LV.F=s.P.F),LV.Z=LV.C7=ZC.AK(s.K+"-scales-ml-0-c"),LV.paint())}}var A0Y=s.HN.transport,A3Z=ZC._i_(s.HN["reset-timeout"]),A4Z=ZC._i_(s.HN["stop-timeout"]),A9L=ZC._b_(s.HN.storage),A0D=!0;null!==ZC._n_(s.HN["preserve-data"])&&(A0D=ZC._b_(s.HN["preserve-data"]));var A5I=function(KE){for(var TQ=eval("("+KE+")"),i,A6,A8J=TQ instanceof Array?TQ:[TQ],r=0,rLen=A8J.length;r<rLen;r++){var DK=A8J[r];for(i=0,A6=s.BN.length;i<A6;i++)if("k"===s.BN[i].AF){var BD=s.BN[i].BD;null!==ZC._n_(DK[BD])&&null!==ZC._n_(s.o[BD])&&(null===ZC._n_(s.o[BD].values)&&(s.G.o.graphset[s.L][BD].values=[],s.o[BD].values=[]),s.o[BD].values.push(DK[BD]),!A0D&&s.o[BD].values.length>ZC._i_(s.HN["max-ticks"])&&s.o[BD].values.splice(0,1),s.G.o.graphset[s.L][BD].values.push(DK[BD]),(s.o[BD].values.length>A3Z||1===s.MA[1])&&(s.G.o.graphset[s.L][BD].values=[],s.o[BD].values=[],s.G.D["graph"+s.L+".zoom"]&&(s.G.D["graph"+s.L+".zoom"].xmin=null,s.G.D["graph"+s.L+".zoom"].xmax=null),s.I8&&(s.I8.unbind(),ZC.Q.IQ(ZC.AK(s.K+"-scroll-x-c"),s.A.AB,s.iX,s.iY,s.I,s.F,s.K),ZC.A5("#"+s.K+"-scroll-x-handle").remove(),ZC.A5("#"+s.K+"-scroll-x-bar").remove()),s.I9&&(s.I9.unbind(),ZC.Q.IQ(ZC.AK(s.K+"-scroll-y-c"),s.A.AB,s.iX,s.iY,s.I,s.F,s.K),ZC.A5("#"+s.K+"-scroll-y-handle").remove(),ZC.A5("#"+s.K+"-scroll-y-bar").remove())),ZC.webstorage&&A9L&&ZC.AO.storage.push("zingchart.scale."+s.K+"."+BD,""+DK[BD]))}for(i=0,A6=s.AY.A4.length;i<A6;i++)if(null!==ZC._n_(s.o.series[i])){var A3Q=null;null!==ZC._n_(H=DK["plot-"+i])?A3Q=H:null!==ZC._n_(H=DK["plot"+i])&&(A3Q=H),"xy"===s.AJ.layout||"yx"===s.AJ.layout?(s.G.o.graphset[s.L].series[i].values.push(A3Q),!A0D&&s.G.o.graphset[s.L].series[i].values.length>ZC._i_(s.HN["max-ticks"])&&s.G.o.graphset[s.L].series[i].values.splice(0,1)):s.G.o.graphset[s.L].series[i].values=[A3Q],ZC.webstorage&&A9L&&(H=DK["plot"+i],"object"==typeof H&&(H=H.join("###")),ZC.AO.storage.push("zingchart.plot."+s.K+".plot"+i,""+H)),(s.o.series[i].values.length>A3Z||1===s.MA[1])&&(ZC.AO.BZ("feed_clear",s.A,s.I4(),DK),s.G.o.graphset[s.L].series[i].values=[])}ML=s.A36()}("ready"===s.M8||s.GD)&&(1===s.MA[1]&&(s.MA[1]=0),(ML<=A4Z||0===A4Z)&&(s.M8="feed",ZC.ZN(function(){ZC.AK(s.A.K+"-main")&&(ZC.AO.BZ("feed_step",s.G,s.I4(),s.o),s.parse(),s.clear(!0),s.U6(),s.paint(!0,!0))})))};if("http"===A0Y||"js"===A0Y){var EA=s.HN.url;ZC.REFRESH_TICK[s.K]=window.setTimeout(function(){if(1===s.MA[0]||1===s.MA[1])if(s.A.N2(s),"http"===A0Y){var EW=["query-string"===s.A.MZ?"zcrandom="+Math.random():"",zingchart.ZCOUTPUT?"zcoutput="+s.G.AB:""].join("&");ZC.A5.ajax({type:"GET",url:EA,beforeSend:function(e){s.A.RR.data||"http-headers"!==s.A.MZ||e.setRequestHeader("If-Modified-Since","Thu, 01 Jan 1970 00:00:00 GMT")},data:EW,dataType:"text",error:function(){},success:function(s){A5I(s)}})}else if("()"===EA.substring(EA.length-2)||"javascript:"===EA.substring(0,11))try{var ED=EA.replace("javascript:","").replace("()","");eval(ED)&&eval(ED).call(s,function(s){A5I(s)},s.I4())}catch(e){}},OP)}else"websockets"===A0Y&&ZC.websockets&&(s.G.S9[s.K]?"pull"===s.HN.method&&(ZC.REFRESH_TICK[s.K]=window.setTimeout(function(){s.G.S9[s.K].send("zingchart.getdata")},OP)):(ws=new WebSocket(s.HN.url,"zingchart"),ws.onopen=function(){ws.send("zingchart."+s.HN.type),ws.send("zingchart."+s.HN.method),ws.send("zingchart.startfeed"),"pull"===s.HN.method&&ws.send("zingchart.getdata")},ws.onmessage=function(e){1!==s.MA[0]&&1!==s.MA[1]||A5I(e.data)},s.G.S9[s.K]=ws))}}},zingchart.ABP=function(s,e,t){var a;document.getElementById("zc-fullscreen")&&(s="zc-fullscreen"),"string"==typeof(t=t||{})&&(t=JSON.parse(t));var r=zingchart.getLoader(s);if(r){var n=r.C8(t.graphid);switch(e){case"clearfeed":n.MA[1]=1,0===n.MA[0]&&ZC.ZN(function(){n.parse(),n.clear(!0),n.U6(),n.paint(!0,!0)});break;case"getinterval":return n.HN.interval;case"setinterval":ZC.AO.BZ("feed_interval_modify",r,n.I4()),n.o.refresh=n.o.refresh||{},n.o.refresh.interval=t.interval||1;break;case"stopfeed":1===n.MA[0]&&(ZC.AO.BZ("feed_stop",r,n.I4()),n.MA[0]=0,null!==ZC._n_(a=r.S9[n.K])&&a.send("zingchart.stopfeed"));break;case"startfeed":0===n.MA[0]&&(ZC.AO.BZ("feed_start",r,n.I4()),n.MA[0]=1,null!==ZC._n_(a=r.S9[n.K])&&a.send("zingchart.startfeed"),ZC.ZN(function(){n.parse(),n.clear(!0),n.U6(),n.paint(!0,!0)}))}}return null};