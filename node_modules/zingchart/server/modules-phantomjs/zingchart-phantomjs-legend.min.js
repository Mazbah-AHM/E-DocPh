/*
All of the code within the ZingChart software is developed and copyrighted by ZingChart, Inc., and may not be copied,
replicated, or used in any other software or application without prior permission from ZingChart. All usage must coincide with the
ZingChart End User License Agreement which can be requested by email at support@zingchart.com.

Build 2.9.5
*/
var WS={$i:function(e,i){this.b(e);var l=this;l.BC=e,l.JA=!1,l.Z=null,l.A71="",l.KQ=1,l.H0=1,l.AF="scroll-"+(i||"y")},parse:function(){var e,i=this;i.K=i.BC.K+"-legend-"+i.AF;var l=i.BC.A.G.B8,n="("+i.BC.A.AF+")";i.B0=new ZC.HL(i.BC),l.load(i.B0.o,[n+".legend.scroll.bar",i.AF+".bar"]),null!==ZC._n_(e=i.o.bar)&&i.B0.append(e),i.B0.parse(),i.B1=new ZC.HL(i.BC),l.load(i.B1.o,[n+".legend.scroll.handle",i.AF+".handle"]),null!==ZC._n_(e=i.o.handle)&&i.B1.append(e),i.B1.parse()},paint:function(){var e,i=this;if(!i.JA){i.Z=ZC.AK(i.BC.A.K+"-legend-scroll-c");var l=ZC.AK(i.G.K+"-top");"scroll-y"===i.AF?(i.B0.iX=i.BC.iX+i.BC.I-i.B0.I-1,i.B0.iY=i.BC.EN,i.B0.F=i.BC.F-(i.BC.KJ?i.BC.KJ.F:0)-(i.BC.EN-i.BC.iY),e=Math.ceil(i.BC.B6.length/i.H0-i.BC.EG/i.H0)+1,i.B1.F=i.B0.F/e,i.B1.iY=i.B0.iY,0!==i.BC.D3.min&&(i.B1.iY+=i.BC.D3.min/i.H0*i.B1.F),ZC.AK(i.K+"-legend-handle")?(ZC.A5("#"+i.K+"-legend-handle").css("left",i.B0.iX+"px").css("top",i.B1.iY+"px").css("height",i.B1.F-0*i.B1.AT+"px"),ZC.A5("#"+i.K+"-legend-bar").css("left",i.B0.iX+"px").css("top",i.B0.iY+"px"),ZC.A5("#"+i.BC.K+"-frame").css("left",i.BC.iX+"px").css("top",i.BC.EN+"px"),i.paint_()):(i.AAD=ZC.Q.HX({cls:"zc-abs zc-scroll zc-scroll-y-bar "+i.BC.K+"-scroll-y-legend-bar",id:i.K+"-legend-bar",wh:i.B0.I+"/"+i.B0.F,tl:i.B0.iY+"/"+i.B0.iX,background:"#fff",opacity:0,zidx:1,p:l}),i.ZA=ZC.Q.HX({cls:"zc-abs zc-scroll zc-scroll-y-handle "+i.BC.K+"-scroll-y-legend-handle",id:i.K+"-legend-handle",wh:i.B0.I-0*i.B1.AT+"/"+(i.B1.F-0*i.B1.AT),tl:i.B1.iY+"/"+i.B0.iX,background:"#fff",opacity:0,zidx:1,p:l}),i.ZA.style.cursor="pointer",i.paint_())):"scroll-x"===i.AF&&(i.B0.iX=i.BC.iX,i.B0.iY=i.BC.iY+i.BC.F-i.B0.F-1,i.B0.I=i.BC.I,e=Math.ceil(i.BC.B6.length/i.KQ-i.BC.EG/i.KQ)+1,i.B1.I=i.B0.I/e,i.B1.iX=i.B0.iX,0!==i.BC.D3.min&&(i.B1.iX+=i.BC.D3.min/i.KQ*i.B1.I),ZC.AK(i.K+"-legend-handle")?(ZC.A5("#"+i.K+"-legend-handle").css("left",i.B1.iX+"px").css("top",i.B0.iY+"px").css("width",i.B1.I-0*i.B1.AT+"px"),ZC.A5("#"+i.K+"-legend-bar").css("left",i.B0.iX+"px").css("top",i.B0.iY+"px"),ZC.A5("#"+i.BC.K+"-frame").css("left",i.BC.iX+"px").css("top",i.BC.EN+"px"),i.paint_()):(i.AAC=ZC.Q.HX({cls:"zc-abs zc-scroll zc-scroll-x-bar "+i.BC.K+"-scroll-x-legend-bar",id:i.K+"-legend-bar",wh:i.B0.I+"/"+i.B0.F,tl:i.B0.iY+"/"+i.B0.iX,background:"#fff",opacity:0,zidx:1,p:l}),i.Z9=ZC.Q.HX({cls:"zc-abs zc-scroll zc-scroll-x-handle "+i.BC.K+"-scroll-x-legend-handle",id:i.K+"-legend-handle",wh:i.B1.I-0*i.B1.AT+"/"+(i.B0.F-0*i.B1.AT),tl:i.B0.iY+"/"+i.B1.iX,background:"#fff",opacity:0,zidx:1,p:l}),i.Z9.style.cursor="pointer",i.paint_())),ZC.move||i.bind()}},paint_:function(){var e,i,l=this;"scroll-y"===l.AF?((e=new ZC.HL(l)).K=l.BC.K+"-scroll-y-legend-bar",e.copy(l.B0),e.Z=l.Z,e.iX=l.B0.iX,e.iY=l.B0.iY,e.I=l.B0.I,e.F=l.B0.F,e.paint(),(i=new ZC.HL(l)).K=l.BC.K+"-scroll-y-legend-handle",i.copy(l.B1),i.Z=l.Z,i.iX=l.B0.iX,i.iY=l.B1.iY,i.I=l.B1.I,i.F=l.B1.F,i.paint()):"scroll-x"===l.AF&&((e=new ZC.HL(l)).K=l.BC.K+"-scroll-x-legend-bar",e.copy(l.B0),e.Z=l.Z,e.iX=l.B0.iX,e.iY=l.B0.iY,e.I=l.B0.I,e.F=l.B0.F,e.paint(),(i=new ZC.HL(l)).K=l.BC.K+"-scroll-x-legend-handle",i.copy(l.B1),i.Z=l.Z,i.iX=l.B1.iX,i.iY=l.B0.iY,i.I=l.B1.I,i.F=l.B0.F,i.paint())},update:function(e){var i,l,n,o,a,r,t=this,A=t.BC;if("scroll-y"===t.AF){if(e<t.B1.iY&&!1,e===t.B1.iY)return;t.B1.iY=e,ZC.A5("#"+t.K+"-legend-handle").css("top",e+"px"),i=t.B1.iY-t.B0.iY,o=Math.ceil(A.B6.length/t.H0-A.EG/t.H0)+1,l=t.B0.F/o,r=t.H0}else if("scroll-x"===t.AF){if(e>t.B1.iX&&!1,e===t.B1.iX)return;t.B1.iX=e,ZC.A5("#"+t.K+"-legend-handle").css("left",e+"px"),i=t.B1.iX-t.B0.iX,o=Math.ceil(A.B6.length/t.KQ-A.EG/t.KQ)+1,l=t.B0.I/o,r=t.KQ}n=Math.round(i/l),a=A.B6.length-A.EG,A.B6.length%r&&(a+=r-A.B6.length%r),A.D3.min=Math.min(n*r,a),A.D3.max=A.D3.min+A.EG,A.W9(),A.clear(!1),A.parse(),A.paint(),t.paint_(),t.bind()},unbind:function(){var e=this;ZC.A5("."+e.BC.K+"-"+e.AF+"-legend-handle").unbind("mousedown touchstart",e.RC),ZC.A5("."+e.BC.K+"-"+e.AF+"-legend-bar").unbind("click",e.RE)},bind:function(){var e=this,i=e.G.K,l=0,n=0;e.RC=function(o){if(o.preventDefault(),!(o.button>1)){for(var a=o.target;a&&"BODY"!==a.tagName.toUpperCase();){if(-1!==ZC.Q.T5(a).indexOf("zc-"+e.AF+"-handle"))break;a=a.parentNode}if((ZC.mobile||!(o.which>1))&&a){var r=ZC.Q.MC(o),t=ZC.A5("#"+i+"-top").offset();if("scroll-y"===e.AF){var A=r[1]-t.top;n=A-e.B1.iY}else if("scroll-x"===e.AF){var d=r[0]-t.left;l=d-e.B1.iX}return ZC.A5(document.body).bind("mousemove touchmove",e.RD),ZC.A5(document.body).bind("mouseup touchend",e.NL),e.JA=!0,!1}}},e.RD=function(o){if(o.preventDefault(),e.JA){var a=ZC.Q.MC(o),r=ZC.A5("#"+i+"-top").offset();if("scroll-y"===e.AF){var t=a[1]-r.top;t-n<e.B0.iY&&(t=e.B0.iY+n),t-n+e.B1.F>e.B0.iY+e.B0.F&&(t=e.B0.iY+e.B0.F+n-e.B1.F),e.update(t-n)}else if("scroll-x"===e.AF){var A=a[0]-r.left;A-l<e.B0.iX&&(A=e.B0.iX+l),A-l+e.B1.I>e.B0.iX+e.B0.I&&(A=e.B0.iX+e.B0.I+l-e.B1.I),e.update(A-l)}}return!1},e.NL=function(){return e.G.KN=e.A71.split(","),e.JA&&(ZC.A5(document.body).unbind("mousemove touchmove",e.RD),ZC.A5(document.body).unbind("mouseup touchend",e.NL),e.JA=!1),!1},e.A3R=function(i){(i.detail?-120*i.detail:i.wheelDelta)/120>0?e.update(ZC.BQ(e.B0.iY,e.B1.iY-e.B1.F)):e.update(ZC.CY(e.B0.iY+e.B0.F-e.B1.F,e.B1.iY+e.B1.F))},e.RE=function(l){e.JA=!0;var n=ZC.Q.MC(l),o=ZC.A5("#"+i+"-top").offset();"scroll-y"===e.AF?n[1]-o.top>e.B1.iY?e.update(ZC.CY(e.B0.iY+e.B0.F-e.B1.F,e.B1.iY+e.B1.F)):e.update(ZC.BQ(e.B0.iY,e.B1.iY-e.B1.F)):"scroll-x"===e.AF&&(n[0]-o.left>e.B1.iX?e.update(ZC.CY(e.B0.iX+e.B0.I-e.B1.I,e.B1.iX+e.B1.I)):e.update(ZC.BQ(e.B0.iX,e.B1.iX-e.B1.I))),e.JA=!1},ZC.A5("."+e.BC.K+"-"+e.AF+"-legend-handle").bind("mousedown touchstart",e.RC),ZC.A5("."+e.BC.K+"-"+e.AF+"-legend-bar").bind("click",e.RE)}};ZC.WS=ZC.D0.CA(WS);var V0={$i:function(e){this.b(e);var i=this;i.OB="legend",i.B6=null,i.Q0=null,i.ND="x1",i.IH="hide",i.R0="",i.PN="",i.UO=!1,i.UW=!1,i.TK="none",i.UB="header",i.EG=9999,i.DD=null,i.BR=null,i.Z8=null,i.A2=null,i.NJ=null,i.FO=null,i.KJ=null,i.QA=0,i.MB=0,i.YI=!0,i.EN=0,i.GO=0,i.sAlign="",i.JU="",i.D3={enabled:!1,min:-1,max:-1,page:-1,pages:-1},i.M0=!1,i.N6=!1,i.N7=-1,i.PM=!1,i.A4R=1,i.WR=0,i.LA=!1,i.XK=!1,i.YO=!1,i.XN=[]},highlightItem:function(e){var i,l,n=this,o=!1,a=ZC.move,r=n.LA;-1!==e&&(r=n.LA||n.A.AY.A4[e].LA),n.o.item&&null!==ZC._n_(i=n.o.item["highlight-item"])&&(o=ZC._b_(i),null===ZC._n_(n.o["highlight-legend"])&&null===n.A.AY.A4[e].o["highlight-legend"]&&(r=o)),(o||r)&&(o&&(n.D["highlight-item"]=e),r&&(n.D["highlight-legend"]=ZC._i_(e)),l=n.scrollTo(ZC._i_(e)),n.W9(),n.clear(!0,l),n.YI=!0,n.parse(),n.fixPlacement(!0),n.paint(),ZC.move=a)},scrollTo:function(e){var i,l,n=this,o=!1;return e>=0&&(e<n.D3.min||e>=n.D3.max)&&(o=!0,"scroll"===n.TK?(e%(l="scroll-y"===n.DD.AF?n.DD.H0:n.DD.KQ)&&(e-=e%l),n.D3.min=e,n.D3.max=e+n.EG,n.D3.max>n.B6.length&&(n.D3.min=n.B6.length-n.EG,n.B6.length%l&&(n.D3.min=n.D3.min+(l-n.B6.length%l)),n.D3.max=n.B6.length)):"page"===n.TK&&(i=Math.floor(e/n.EG),n.D3.min=i*n.EG,n.D3.max=n.D3.min+n.EG,n.D3.page=i+1)),o},parse:function(){var e,i,l,n,o=this;if(o.D["force-margins"]=!0,o.QA=0,o.MB=0,null!==ZC._n_(e=o.A.A.D["graph-"+o.A.K+"-legend-info"])&&(o.o.x=e.x-o.A.iX,o.o.y=e.y-o.A.iY),ZC.move)o.FO&&o.FO.parse(),o.KJ&&o.KJ.parse();else{n=o.A.G.B8;var a="("+o.A.AF+")";o.b(),o.assign_a([["collapse","M0","b"],["minimize","UO","b"],["draggable","UW","b"],["shared","PM","b"],["overflow","TK"],["max-items","EG","i"],["group","A4R","i"],["drag-handler","UB"],["highlight-plot","WR","b"],["highlight-legend","LA","b"],["align","sAlign"],["vertical-align","JU"]]),o.M0&&!o.UO&&(o.M0=!1),zingchart.DEV.MEDIARULES&&(o.D["forced-align-position"]||(o.alignPosition({align:o.sAlign,"vertical-align":o.JU,layout:o.ND}),o.D["forced-align-position"]=!0)),o.WR&&null===ZC._n_(o.o["highlight-legend"])&&(o.LA=o.WR),o.BR=new ZC.DU(o),n.load(o.BR.o,a+".legend.item"),o.o.item&&null===ZC._n_(o.o.item.visible)&&(o.o.item.visible=!0),o.BR.append(o.o.item),o.BR.parse(),o.Z8=new ZC.DU(o),n.load(o.Z8.o,a+".legend.item-off"),o.o["item-off"]&&null===ZC._n_(o.o["item-off"].visible)&&(o.o["item-off"].visible=!0),o.Z8.append(o.o["item-off"]),o.Z8.parse(),o.A2=new ZC.DV(o),n.load(o.A2.o,a+".legend.marker"),o.o.marker&&null===ZC._n_(o.o.marker.visible)&&(o.o.marker.visible=!0),o.A2.append(o.o.marker),o.A2.D.type="default",o.A2.D["show-marker"]=!0,o.A2.D["show-line"]=!1,null!==ZC._n_(e=o.A2.o.type)&&(o.A2.D.type=e),null!==ZC._n_(e=o.A2.o["show-line"])&&(o.A2.D["show-line"]=ZC._b_(e)),null!==ZC._n_(e=o.BR.o["marker-style"])&&(o.A2.D.type=e),null!==ZC._n_(e=o.BR.o["show-line"])&&(o.A2.D["show-line"]=ZC._b_(e)),null!==ZC._n_(e=o.BR.o["show-marker"])&&(o.A2.o.visible=ZC._b_(e)),o.A2.parse(),o.NJ=new ZC.DV(o),n.load(o.NJ.o,a+".legend.marker-off"),o.o["marker-off"]&&(o.o["marker-off"].visible=!0),o.NJ.append(o.o["marker-off"]),o.NJ.D.type="default",o.NJ.D["show-marker"]=!0,o.NJ.D["show-line"]=!1,null!==ZC._n_(e=o.NJ.o.type)&&(o.NJ.D.type=e),null!==ZC._n_(e=o.NJ.o["show-line"])&&(o.NJ.D["show-line"]=ZC._b_(e)),null!==ZC._n_(e=o.BR.o["marker-style"])&&(o.NJ.D.type=e),null!==ZC._n_(e=o.BR.o["show-line"])&&(o.NJ.D["show-line"]=ZC._b_(e)),null!==ZC._n_(e=o.BR.o["show-marker"])&&(o.NJ.o.visible=ZC._b_(e)),o.NJ.parse(),(null!==ZC._n_(e=o.o.header)||o.UW||o.UO)&&(o.FO=new ZC.DU(o),o.FO.OB="legendheader",o.FO.GL="zc-legend-item "+o.K+"-header",o.FO.K=o.K+"-header",n.load(o.FO.o,a+".legend.header"),o.FO.o.text=o.FO.o.text||" ",o.FO.append(e),o.FO.parse(),o.FO.AM||(o.FO=null)),null!==ZC._n_(e=o.o.footer)&&(o.KJ=new ZC.DU(o),o.KJ.OB="legendfooter",o.KJ.GL="zc-legend-item "+o.K+"-footer",o.KJ.K=o.K+"-footer",n.load(o.KJ.o,a+".legend.footer"),o.KJ.append(e),o.KJ.parse(),o.KJ.AM||(o.KJ=null));var r=o.A.AY.A4;null!==ZC._n_(e=o.o.layout)?o.ND=e:25*r.length>o.A.F&&(o.ND="x"+Math.ceil(25*r.length/o.A.F)),null!==ZC._n_(e=o.o["toggle-action"])&&(o.IH=e),o.R0=o.PN=o.IH,null!==ZC._n_(o.o.item)&&null!==ZC._n_(e=o.o.item["toggle-action"])&&(o.R0=e),null!==ZC._n_(o.o.marker)&&null!==ZC._n_(e=o.o.marker["toggle-action"])&&(o.PN=e);var t=function(e){if(r[i]&&r[i].FN(0)){var l=ZC.AO.O3(o.BR.o,r[i].o);e=r[i].FN(0).KG(e,l)}return e},A=[];for(o.B6=[],i=0,l=r.length;i<l;i++){var d=o.A.AY.M3[i],C=new ZC.DU(o);C.copy(o.BR),C.append(r[d].o["legend-item"]),null===ZC._n_(C.o.text)&&null!==ZC._n_(e=r[d].A5Y)&&(C.o.text=e),null===ZC._n_(C.o.text)&&null!==ZC._n_(e=r[d].AR)&&(C.o.text=e),C.AR=null===ZC._n_(C.o.text)?"Series "+(d+1):C.o.text,C.D.order=d,C.D.index=d,null!==ZC._n_(r[d].o["legend-item"])&&null!==ZC._n_(e=r[d].o["legend-item"].order)&&(C.D.order=ZC._i_(e)),A.push([i,d,C.D.order]),-1!==C.AR.indexOf("%")&&(C.KG=t),C.parse(),o.B6.push(C)}for(A.sort(function(e,i){return e[2]-i[2]}),i=0;i<A.length;i++)A[i][2]=i,r[A[i][1]].o["legend-item"]=r[A[i][1]].o["legend-item"]||{},r[A[i][1]].o["legend-item"].order=A[i][2],o.B6[A[i][0]].D.order=A[i][2];(e=o.A.D["legend-info"])&&(o.N6=e.collapsed)}if(o.B6&&o.A2){"page"===o.TK?((e=o.A.D["legend-info"])?(o.D3.min=e.min,o.D3.max=e.max,o.D3.page=e.page):(o.D3.min=0,o.D3.max=o.EG,o.D3.page=1),o.D3.pages=Math.ceil(o.B6.length/o.EG),o.D3.page>o.D3.pages&&(o.D3.page=o.D3.pages,o.D3.min=(o.D3.page-1)*o.EG,o.D3.max=o.D3.page*o.EG-1),o.D3.page=ZC.CY(o.D3.page,o.D3.pages)):"scroll"===o.TK?(e=o.A.D["legend-info"])?(o.D3.min=e.min,o.D3.max=e.max,o.D3.page=e.page):(o.D3.min=0,o.D3.max=o.EG,o.D3.page=1):(o.D3.min=0,o.D3.max="hidden"===o.TK?o.EG:o.B6.length,o.D3.page=1),o.W9(!1),o.B6.sort(function(e,i){return e.D.order-i.D.order}),o.o["reverse-series"]&&o.B6.reverse();var s=.9*o.A.I;null!==ZC._n_(o.o.width)&&(s=o.I);var g=0,Z=0,c=-ZC.MAX,p=-ZC.MAX,B=o.A2.D["show-line"]?3:2,u=0,m=1,D=1;if("float"===o.ND){for(i=0,l=o.B6.length;i<l;i++)if(u+=o.B6[i].AM?1:0,!(i<o.D3.min||i>=o.D3.max||o.N6)&&o.B6[i].AM){var h=o.B6[i].I+o.B6[i].DX+o.B6[i].E8+B*o.B6[i].DG;p=ZC.BQ(p,o.B6[i].F+o.B6[i].E9+o.B6[i].DP),g+h>s?(c=ZC.BQ(c,g),Z+=p,g=h,p=ZC.BQ(p,o.B6[i].F+o.B6[i].E9+o.B6[i].DP)):g+=h}c=ZC.BQ(c,g),p!==-ZC.MAX&&(Z+=p),c!==-ZC.MAX&&(g=c)}else{var f=0;for(i=0,l=o.B6.length;i<l;i++)u+=o.B6[i].AM?1:0,i<o.D3.min||i>=o.D3.max||o.N6||(f+=o.B6[i].AM?1:0);var _=ZC.AP.A2E(o.ND,f);for(m=_[0],D=_[1],i=0,l=o.B6.length;i<l;i++)(i<o.D3.min||i>=o.D3.max||o.N6)&&("scroll"!==o.TK||u<=o.EG)||o.B6[i].AM&&(c=ZC.BQ(c,o.B6[i].I+o.B6[i].DX+o.B6[i].E8+B*o.B6[i].DG),p=ZC.BQ(p,o.B6[i].F+o.B6[i].E9+o.B6[i].DP),1===D&&(Z+=o.B6[i].F+o.B6[i].E9+o.B6[i].DP));g=D*c,Z=m*p}if("page"===o.TK&&u>o.EG&&(o.D3.enabled=!0),"scroll"===o.TK&&u>o.EG&&(o.DD||(!m||m>D?(o.DD=new ZC.WS(o,"y"),n.load(o.DD.o,".scroll-y")):(o.DD=new ZC.WS(o,"x"),n.load(o.DD.o,".scroll-x")),o.DD.append(o.o.scroll),o.DD.KQ=m,o.DD.H0=D,o.DD.parse()),o.N6||("scroll-y"===o.DD.AF?g+=o.DD.B0.I:Z+=o.DD.B0.F)),o.FO){var v=o.FO.I;o.UW&&"icon"===o.UB?(v+=15,o.UO&&(v+=25)):o.UO&&(v+=15),g=ZC.BQ(g,v)}o.KJ&&(g=ZC.BQ(g,o.KJ.I));var F=!1,K=!1;if(null===ZC._n_(o.o.width)&&(o.o.width=g,F=!0),null===ZC._n_(o.o.height)&&(o.o.height=Z,K=!0),o.iX=-1,o.iY=-1,!ZC.move&&o.FO&&null!==ZC._n_(e=o.A.A.D["legend"+o.A.L+"-xy-ratio"])){o.locate();var b=o.I+o.EP+o.FM,X=o.F+o.FL+o.FS,Y=o.PM?o.A.A:o.A;o.iX=Y.I*e[0],o.iX=ZC.BQ(o.iX,1.1),o.o.x=o.iX=ZC.CY(o.iX,Y.I-b-2),o.iY=(Y.F-o.FO.F)*e[1],o.iY=ZC.BQ(o.iY,1.1),o.o.y=o.iY=ZC.CY(o.iY,Y.F-X-o.FO.F-2)}if(o.locate(),null!==ZC._n_(o.o.position)&&"undefined"!=typeof o.D["position-info"]?(o.D["position-info"][0]>.5&&(o.QA+=o.EP+o.FM),o.D["position-info"][1]>.5?o.MB+=o.FL+o.FS:(o.FO&&(o.MB-=o.FO.F),o.KJ&&(o.MB-=o.KJ.F),o.D3&&o.D3.enabled&&(o.MB-=20))):((0===o.A.iX||o.iX+o.I/2>o.A.iX+o.A.I/2)&&(o.QA+=o.EP+o.FM),(0===o.A.iY||o.iY+o.F/2>o.A.iY+o.A.F/2)&&(o.MB+=o.FL+o.FS)),!ZC.move&&(e=o.A.A.D["graph-"+o.A.K+"-legend-info"])&&(e.x&&(o.iX=e.x),e.y&&(o.iY=e.y)),o.GO=o.F,o.EN=o.iY,o.FO&&(o.F+=o.FO.F,o.EN+=o.FO.F,o.MB+=o.FO.F),o.KJ&&(o.F+=o.KJ.F,o.MB+=o.KJ.F),o.D3.enabled&&!o.N6){var I=new ZC.DU(o);I.AR=" ",I.append(o.o["page-status"]),null!==ZC._n_(I.o.text)&&""!==I.o.text||(I.o.text="#"),I.parse(),o.F+=I.F+4,o.MB+=I.F+4}F&&(o.o.width=null),K&&(o.o.height=null),o.N6||(o.I+=o.EP+o.FM,o.F+=o.FL+o.FS),o.D["default-width"]&&(o.I=o.D["default-width"])}},alignPosition:function(e){var i=this;if(null!==ZC._n_(e)){var l=i.A.G.B8.B8.graph.legend,n=e.align||l.align,o=e["vertical-align"]||l["vertical-align"],a=e.layout||l.layout;(n||o)&&("center"===n?(null===ZC._n_(i.o.layout)&&(a=i.o.layout="horizontal"),i.o.position="50% "):i.o.position="left"===n?"0% ":"100% ",i.o.position+="middle"===o?"50%":"bottom"===o?"100%":"0%","horizontal"!==a&&"middle"!==o||(i.o["adjust-layout"]=!0))}},W9:function(e){var i=this;void 0===e&&(e=!0),i.A.D["legend-info"]={collapsed:i.N6,min:i.D3.min,max:i.D3.max,page:i.D3.page},e&&(i.A.A.D["graph-"+i.A.K+"-legend-info"]={x:i.iX,y:i.iY})},clear:function(e,i){null===ZC._n_(e)&&(e=!1),null===ZC._n_(i)&&(i=!1);var l=this,n=l.A.K+"-legend-",o=null;ZC.A5("."+n+"item",o).remove(),ZC.A5("."+n+"header",o).remove(),ZC.A5("."+n+"footer",o).remove(),ZC.A5("#"+n+"page-status",o).remove(),e&&!i||(ZC.move||l.unbind(),ZC.A5("."+n+"page-area",o).remove(),ZC.A5("."+n+"header-area",o).remove(),ZC.A5("."+n+"item-area",o).remove(),ZC.A5("."+n+"marker-area",o).remove()),ZC.move?ZC.Q.IQ(ZC.AK(n+"c"),l.A.G.AB,l.A.iX,l.A.iY,l.A.I,l.A.F):ZC.Q.IQ(ZC.AK(n+"c"),l.A.G.AB,l.iX-2*l.AT-2*l.JQ,l.iY-2*l.AT-2*l.JQ,l.I+4*l.AT+4*l.JQ,l.F+4*l.AT+4*l.JQ),l.DD&&ZC.Q.IQ(ZC.AK(n+"scroll-c"),l.A.G.AB,l.A.iX,l.A.iY,l.A.I,l.A.F)},unbind:function(){var e=this;ZC.A5("#"+e.K+"-frame").die(ZC.Q.C0("mouseover"),e.zc_legend_mouseover).die(ZC.Q.C0("mouseout"),e.zc_legend_mouseout),ZC.A5("#"+e.K+"-move-area").die(ZC.Q.C0("mousedown"),e.Z3),ZC.A5("#"+e.K+"-minimize-area").die(ZC.Q.C0("click"),e.Y0),ZC.A5("."+e.K+"-page-area").die(ZC.Q.C0("click"),e.YW),e.DD&&e.DD.unbind(),e.BR&&e.BR.o.reorder&&ZC.A5("."+e.A.K+"-legend-item-area").die("mousedown",e.W2)},fixPlacement:function(e){var i=this;if(i.YI&&null===ZC._n_(i.o.y)||e){if(!i.o.position&&e||(i.iX-=i.QA),i.iX<i.DX&&(i.DX<i.E8||-2===i.E8)&&(i.iX=i.DX),!i.o.position&&e||(i.iY-=i.MB,i.EN-=i.MB),i.iY<i.E9&&(i.E9<i.DP||-2===i.DP)){var l=i.EN-i.iY;i.iY=i.E9,i.EN=i.E9+l}i.YI=!1}},EL:function(e){var i=this;i.FO&&i.FO.EL(e),i.KJ&&i.KJ.EL(e);for(var l=0;l<i.XN.length;l++)i.XN[l].EL(e)},paint:function(e){var i,l,n,o,a,r,t,A,d,C,s,g,Z,c,p,B,u=this;if(u.AM&&(u.D["default-width"]||(u.D["default-width"]=u.I),u.B6)){var m=ZC.AK(u.G.K+"-top"),D=u.A.AY.A4,h=0;for(r=0,t=u.B6.length;r<t;r++)r<u.D3.min||r>=u.D3.max||u.N6||(h+=u.B6[r].AM?1:0);u.A4P=!0,u.b(),u.FO&&(u.FO.iX=u.iX,u.FO.iY=u.iY,u.FO.I=u.I,u.FO.Z=u.FO.C7=u.Z,u.FO.paint(),ZC.move||"canvas"!==u.A.A.AB&&u.FO.EL(),u.UW&&"icon"===u.UB&&((n=new ZC.DV(u)).Z=u.Z,n.B7="#000",n.AZ=1,n.DQ="line",n.append(u.o.icon),o=u.FO.iX+u.FO.I-10,a=u.FO.iY+u.FO.F/2,n.E=[[o-7,a],[o+7,a],null,[o,a-7],[o,a+7],null,[o-6,a-1],[o-6,a+1],null,[o-5,a-2],[o-5,a+2],null,[o+6,a-1],[o+6,a+1],null,[o+5,a-2],[o+5,a+2],null,[o-1,a-6],[o+1,a-6],null,[o-2,a-5],[o+2,a-5],null,[o-1,a+6],[o+1,a+6],null,[o-2,a+5],[o+2,a+5]],n.parse(),n.paint()),u.UO&&((l=new ZC.DV(u)).Z=u.Z,l.B7=ZC.AO.AA9(u.A0,"#fff","#000"),l.AZ=1,l.append(u.o.icon),l.DQ="line",o=u.FO.iX+u.FO.I-10-(u.UW&&"icon"===u.UB?20:0),a=u.FO.iY+u.FO.F/2,l.E=[[o-7,a-2],[o+2,a-2],[o+2,a+7],[o-7,a+7],[o-7,a-2],[o+2,a-2],null,[o-4,a-5],[o+5,a-5],[o+5,a+4],[o-4,a+4],[o-4,a-5],[o+5,a-5]],l.parse(),l.paint())),u.KJ&&(u.KJ.iX=u.iX,u.KJ.iY=u.iY+u.F-u.KJ.F,u.KJ.I=u.I,u.KJ.Z=u.KJ.C7=u.Z,u.KJ.paint(),ZC.move||"canvas"!==u.A.A.AB&&u.KJ.EL());var f=ZC.AP.A2E(u.ND,h),_=f[0],v=f[1],F=u.I/v,K=u.GO/_,b=0,X=0;u.Q0=[];var Y,I=0,y=-ZC.MAX,x=u.A2.D["show-line"]?3:2,Q=null,G=function(i){var l=i;if(null===ZC._n_(e)&&(e=0),D[Y]&&D[Y].R[e]){var n=ZC.AO.O3(u.BR.o,D[Y].o);i=D[Y].FN(e).KG(i,n)}return u.XK=u.XK||i!==l,i},M=0;for(u.XK=!1,r=0,t=u.B6.length;r<t;r++)if(!(r-M<u.D3.min||r-M>=u.D3.max||u.N6)){var O=new ZC.DU(u);O.copy(u.B6[r]),u.D["highlight-legend"]===r&&(O.append({bold:!0}),null!==ZC._n_(u.o.item)&&O.append(u.o.item["highlight-state"])),Y=O.D.index;var E=new ZC.DU(u);E.OB="legenditem",E.K=u.K+"-item_"+Y,E.GL="zc-legend-item "+u.K+"-item",E.copy(O),u.A.D["plot"+Y+".visible"]&&"off"!==D[Y].o["legend-status"]||E.append(u.Z8.o),E.append(D[Y].o["legend-item"]),E.KG=G,E.parse(),E.AM?("float"===u.ND?(y=ZC.BQ(y,O.F),null===ZC._n_(Q)?(O.iX=u.iX+u.EP+O.DX+x*O.DG,O.iY=u.EN+u.FL+O.E9,I=u.EN):(O.iX=Q.iX+Q.I+Q.E8+O.DX+x*O.DG,ZC._i_(O.iX+O.I+O.E8)>ZC._i_(u.iX+u.I)&&(O.iX=u.iX+u.EP+O.DX+x*O.DG,I+=y+O.E9+O.DP,y=-ZC.MAX),O.iY=I+u.FL+O.E9)):(O.iX=u.iX+(0===X?u.EP:0)+X*F+O.DX+x*O.DG,O.iY=u.EN+u.FL+b*K+O.E9,++X===v&&(X=0,b++)),Q=O,E.iX=O.iX=ZC._i_(O.iX),E.iY=O.iY=ZC._i_(O.iY),E.Z=E.C7=u.Z,E.iX+=u.BL,E.iY+=u.BH,Y===u.N7&&(u.D["calculate-y"]&&(u.D["calculate-y"]=!1,u.D["dragged-offset-y"]=u.D["dragged-y"]-E.iY),E.iY=u.D["dragged-y"]-u.D["dragged-offset-y"]-E.DG/4),E.paint(),"undefined"!=typeof u.D.showhide&&null!==ZC._n_(u.D.showhide)||ZC.move||("canvas"!==u.A.A.AB?E.EL():u.XN.push(E))):M++;var w=u.A2.D.type;null!==ZC._n_(i=D[Y].o["legend-marker"])&&null!==ZC._n_(i.type)&&(w=i.type);var N,R=!1;switch("match"!==w&&"inherit"!==w||(R=!0,w=null!==ZC._n_(i=D[Y].A2.o.type)?i:"default"),-1!==ZC.AV(["default","square"],w)?N=new ZC.HL(u):(N=new ZC.DV(u)).DQ=w,N.OB="legendmarker",N.append(u.A2.o),u.A.D["plot"+Y+".visible"]&&"off"!==D[Y].o["legend-status"]||N.append(u.NJ.o),N.N5=D[Y].N5,D[Y].AF){case"pie":case"pie3d":case"nestedpie":case"vbar":case"vbar3d":case"hbar":case"hbar3d":case"vbullet":case"hbullet":case"area":case"area3d":case"gauge":case"vfunnel":case"hfunnel":case"venn":N.A0=D[Y].A0,N.AE=D[Y].AE,N.GR=D[Y].GR,N.HJ=D[Y].HJ;break;case"scatter":case"hscatter":case"bubble":case"hbubble":N.A0="-1"!==D[Y].A2.A0?D[Y].A2.A0:D[Y].A0,N.AE="-1"!==D[Y].A2.AE?D[Y].A2.AE:D[Y].AE,N.GR=""!==D[Y].A2.GR?D[Y].A2.GR:D[Y].GR,N.HJ=""!==D[Y].A2.HJ?D[Y].A2.HJ:D[Y].HJ;break;default:N.A0=D[Y].B7,N.AE=D[Y].B7}"line"!==N.DQ&&"area"!==N.DQ||(N.B7=N.A0,N.AZ=2),R&&N.append(D[Y].A2.o),N.o["line-style"]="solid",N.o.type=N.DQ,N.append(D[Y].o["legend-marker"]),R&&(N.o.type=N.DQ),N.D["show-marker"]=!0,N.D["show-line"]=!1,null!==ZC._n_(i=N.o["show-line"])&&(N.D["show-line"]=ZC._b_(i)),null!==ZC._n_(i=E.o["show-line"])&&(N.D["show-line"]=ZC._b_(i)),null!==ZC._n_(i=E.o["show-marker"])&&(N.o.visible=ZC._b_(i)),-1!==ZC.AV(["default","square"],w)&&null!==ZC._n_(i=N.o.size)&&(null===ZC._n_(N.o.width)&&(N.o.width=2*ZC._i_(i)),null===ZC._n_(N.o.height)&&(N.o.height=2*ZC._i_(i))),N.K=u.K+"-marker_"+Y,N.Z=N.C7=u.Z,N.iX=E.iX-x*E.DG+(x-1)*E.DG/2+E.DG/2,N.iY=E.iY+(E.F-E.DG)/2+E.DG/2,N.parse(),u.D["highlight-legend"]===r&&(N.append({size:N.AI+1,width:N.I+2,height:N.F+2}),D[Y]&&D[Y].R[e]&&D[Y].R[e].GJ&&N.append({A0:D[Y].R[e].GJ.A0,AE:D[Y].R[e].GJ.AE}),null!==ZC._n_(u.o.marker)&&N.append(u.o.marker["highlight-state"]),N.parse()),"line"===N.DQ?(N.o.points=[[N.iX-1.75*N.AI,N.iY],[N.iX+1.75*N.AI,N.iY]],N.parse()):"area"===N.DQ&&(N.o.points=[[N.iX-1.75*N.AI,N.iY+N.AI],[N.iX+1.75*N.AI,N.iY+N.AI],[N.iX+1*N.AI,N.iY-N.AI/2],[N.iX,N.iY],[N.iX-1.25*N.AI,N.iY-N.AI],[N.iX-1.75*N.AI,N.iY+N.AI]],N.parse());var J=N.iX+N.BL,z=N.iY+N.BH;if(-1!==ZC.AV(["default","square"],w)&&(N.iX-=N.I/2,N.iY-=N.F/2),u.A.D["plot"+Y+".visible"]&&"off"!==D[Y].o["legend-status"]||(N.C5/=4),E.AM&&N.D["show-line"]){var k=ZC.Q.EB(u.Z,u.A.G.AB),L=new ZC.D0(u);L.Z=u.Z,L.copy(D[Y]),L.o["line-style"]=u.A2.GC,L.append(D[Y].o),L.append(u.A2.o),L.append(D[Y].o["legend-item"]),L.append(D[Y].o["legend-marker"]),L.parse(),u.A.D["plot"+Y+".visible"]||(L.C5=.25);var P=[],H=N.AM?2:1;A="box"===N.DQ?N.I/2:N.AI,P.push([J-H*A-(L.AZ>1?1:0),z-(L.AZ>1?.5:0)]),P.push([J+H*A,z-(L.AZ>1?.5:0)]),L.CZ=!0,ZC.CS.paint(k,L,P)}Y===u.N7&&(N.iY=u.D["dragged-y"]-u.D["dragged-offset-y"]/2),N.AM&&E.AM&&N.paint(),u.Q0.push(N);var U=!0;if(null!==ZC._n_(i=u.BR.o.toggle)&&(U=ZC._b_(i)),u.D["item.toggle"]=U,(E.AM||N.AM)&&-1===ZC.AV(u.A.G.KN,"skip_interactivity")){var T=N.BL+("box"===N.DQ?N.iX+N.I/2:N.iX),W=N.BH+("box"===N.DQ?N.iY+N.F/2:N.iY);A="box"===N.DQ?N.I/2:N.AI,d="box"===N.DQ?N.F/2:N.AI;var S=(N.D["show-line"]?2:1)*A;ZC.AK(E.K+"-area")||(N.AM&&"disabled"!==u.PN&&"disabled"!==N.o["toggle-action"]&&(ZC.AK(N.K+"-area")||ZC.Q.HX({cls:u.K+"-marker-area zc-legend-marker-area zc-abs",id:N.K+"-area",wh:2*S+"/"+2*d,tl:W-d+"/"+(T-S),opacity:0,background:"#fff",cursor:N.IR,p:m,zidx:1})),E.AM&&"disabled"!==u.R0&&"disabled"!==E.o["toggle-action"]&&(ZC.AK(E.K+"-area")||ZC.Q.HX({cls:u.K+"-item-area zc-legend-item-area zc-abs",id:E.K+"-area",wh:E.I+"/"+E.F,tl:E.iY+E.BH+"/"+(E.iX+E.BL),opacity:0,background:"#fff",cursor:E.IR,p:m,zidx:1})))}}if(u.DD&&!u.N6&&(u.DD.paint(),ZC.AK(u.K+"-scroll-c").style.display="block"),u.DD&&u.N6&&(ZC.AK(u.K+"-scroll-c").style.display="none"),u.D3.enabled&&!u.N6){var V=new ZC.DU(u);V.Z=V.C7=u.Z,V.K=u.K+"-page-status",V.AR=ZC.HH["legend-pagination"].replace("%page%",u.D3.page).replace("%pages%",u.D3.pages),V.append(u.o["page-status"]),V.parse(),u.I<V.I+48&&(V.AR=u.D3.page+"/"+u.D3.pages,V.parse()),V.iX=u.iX+u.I/2-V.I/2,V.iY=u.iY+u.F-(u.KJ?u.KJ.F:0)-V.F-4,V.AM&&V.paint();var q=u.A.G.B8,$="("+u.A.AF+")",j={"background-color":"#999"},ee={"background-color":"#f90"};q.load(j,$+".legend.page-off"),q.load(ee,$+".legend.page-on"),(s=new ZC.DV(u)).Z=s.C7=u.Z,s.K=u.K+"-page-prev",s.A0=s.AE=u.D3.page>1?ee["background-color"]:j["background-color"],s.append(u.D3.page>1?u.o["page-on"]:u.o["page-off"]),C=u.iX+u.I/2-V.I/2-6,g=V.iY+V.F/2,s.parse(),s.AI=ZC.BQ(s.AI,8),B=ZC._i_(.75*s.AI),s.E=[[C,g-B],[C,g+B],[C-s.AI,g],[C,g-B]],s.parse(),s.AM&&s.paint(),(c=new ZC.DV(u)).Z=c.C7=u.Z,c.K=u.K+"-page-next",c.A0=c.AE=u.D3.page<u.D3.pages?ee["background-color"]:j["background-color"],c.append(u.D3.page<u.D3.pages?u.o["page-on"]:u.o["page-off"]),Z=u.iX+u.I/2+V.I/2+6,p=V.iY+V.F/2,c.parse(),c.AI=ZC.BQ(c.AI,8),B=ZC._i_(.75*c.AI),c.E=[[Z,p-B],[Z,p+B],[Z+c.AI,p],[Z,p-B]],c.parse(),c.AM&&c.paint()}if(!ZC.move){var ie,le,ne=u.F,oe=u.iY;u.FO&&(ne-=u.FO.F,oe+=u.FO.F),ZC.AK(u.K+"-frame")?ZC.A5("#"+u.K+"-frame").css("top",oe+"px").css("left",u.iX+"px").css("width",u.I+"px").css("height",ne+"px"):ZC.Q.HX({cls:"zc-abs zc-legend-frame "+u.K+"-frame",id:u.K+"-frame",wh:u.I+"/"+ne,tl:oe+"/"+u.iX,opacity:0,background:"#fff",p:m,zidx:0}),u.D3.enabled&&!u.N6&&(u.D3.page>1&&ZC.Q.HX({cls:u.K+"-page-area zc-legend-page-area zc-abs",id:u.K+"-page-prev-area",wh:s.AI+"/"+2*s.AI,tl:ZC._i_(g+s.BH-s.AI)+"/"+ZC._i_(C+s.BL-s.AI),opacity:0,p:m,zidx:1}),u.D3.page<u.D3.pages&&ZC.Q.HX({cls:u.K+"-page-area zc-legend-page-area zc-abs",id:u.K+"-page-next-area",wh:c.AI+"/"+2*c.AI,tl:ZC._i_(p+s.BH-c.AI)+"/"+ZC._i_(Z+c.BL),opacity:0,p:m,zidx:1})),u.FO&&u.UW&&("icon"===u.UB?(le=ZC._i_(u.FO.iY+ZC.MAPTX+n.BH)+"/"+ZC._i_(u.FO.iX+u.FO.I-20+ZC.MAPTX+n.BL),ie="20/"+u.FO.F):(le=ZC._i_(u.FO.iY+ZC.MAPTX)+"/"+ZC._i_(u.FO.iX+ZC.MAPTX),ie=u.FO.I-(u.UO?23:0)+"/"+u.FO.F),ZC.Q.HX({cls:u.K+"-header-area zc-legend-header-area zc-abs",id:u.K+"-move-area",wh:ie,tl:le,opacity:0,p:m,zidx:1})),u.UO&&(u.UW&&"icon"===u.UB?(le=ZC._i_(u.FO.iY+ZC.MAPTX+l.BH)+"/"+ZC._i_(u.FO.iX+u.FO.I-41+ZC.MAPTX+l.BL),ie="20/"+u.FO.F):(le=ZC._i_(u.FO.iY+ZC.MAPTX+l.BH)+"/"+ZC._i_(u.FO.iX+u.FO.I-22+ZC.MAPTX+l.BL),ie="20/"+u.FO.F),ZC.Q.HX({cls:u.K+"-header-area zc-legend-header-area zc-abs",id:u.K+"-minimize-area",wh:ie,tl:le,opacity:0,p:m,zidx:1})),u.OS=0,u.ZY=0,u.zc_legend_mouseover=function(){u.YO=!0},u.zc_legend_mouseout=function(){u.YO=!1},u.Z3=function(e){if(e.preventDefault(),u.G.hideCM(),ZC.move=!0,ZC.mobile||!(e.which>1)){u.A.A.D["graph-"+u.A.K+"-legend-info"]=null;var i=ZC.Q.MC(e),l=ZC.A5("#"+u.A.A.K+"-top").offset();u.OS=i[0]-l.left-u.FO.iX,u.ZY=i[1]-l.top-u.FO.iY,u.oldcursor=document.body.style.cursor,document.body.style.cursor="move",ZC.A5(document.body).bind(ZC.Q.C0("mousemove"),u.Z4),ZC.A5(document.body).bind(ZC.Q.C0("mouseup"),u.A0R)}},u.Z4=function(e){var i=ZC.Q.MC(e),l=ZC.A5("#"+u.A.A.K+"-top").offset(),n=i[0]-l.left-u.OS,o=i[1]-l.top-u.ZY;if(u.PM?(n=ZC.BQ(n,u.G.iX+2),n=ZC.CY(n,u.G.iX+u.G.I-u.I-2),o=ZC.BQ(o,u.G.iY+2),o=ZC.CY(o,u.G.iY+u.G.F-u.F-4)):(n=ZC.BQ(n,u.A.iX+2),n=ZC.CY(n,u.A.iX+u.A.I-u.I-2),o=ZC.BQ(o,u.A.iY+2),o=ZC.CY(o,u.A.iY+u.A.F-u.F-4)),u.PM||(n-=u.A.iX,o-=u.A.iY),u.o.x=n,u.o.y=o,u.o.position=null,u.clear(!0),u.parse(),u.paint(),u.FO){var a=u.PM?u.A.A:u.A;u.A.A.D["legend"+u.A.L+"-xy-ratio"]=[n/a.I,o/(a.F-u.FO.F)]}},u.A0R=function(){ZC.move=!1,document.body.style.cursor=u.oldcursor,delete u.oldcursor,ZC.A5(document.body).unbind(ZC.Q.C0("mousemove"),u.Z4),ZC.A5(document.body).unbind(ZC.Q.C0("mouseup"),u.A0R),u.XN=[],u.clear(!1),u.parse(),u.paint(),u.W9()},u.YW=function(e){u.D["default-width"]=null,-1!==(e.targetid||e.target.id).indexOf("-page-next-area")?(u.D3.min+=u.EG,u.D3.max+=u.EG,u.D3.page+=1):(u.D3.min-=u.EG,u.D3.max-=u.EG,u.D3.page-=1),(!(i=u.A.A.D["graph-"+u.A.K+"-legend-info"])||null===ZC._n_(i.x)&&null===ZC._n_(i.y))&&(u.iX=null,u.iY=null),u.W9(),u.A.K3()},u.Y0=function(e){var i=u.N6?"legendmaximize":"legendminimize";e&&(u.A.A.D["legend-toggling"]=1),zingchart.exec(u.A.G.K,i,{graphid:u.A.L}),e&&(u.A.A.D["legend-toggling"]=0),e&&(u.A.A.D["g"+u.A.L+"-legend-collapsed"]="legendminimize"===i)},u.MM=function(e){ZC.move=!0;var i=ZC.Q.MC(e),l=ZC.A5("#"+u.A.A.K+"-top").offset(),n=i[0]-l.left,o=i[1]-l.top;u.D["dragged-x"]=n,u.D["dragged-y"]=o,u.W9(),u.clear(!1),u.parse(),u.paint()},u.W2=function(e){if(e.preventDefault(),u.G.hideCM(),u.IR=document.body.style.cursor,document.body.style.cursor="move",ZC.mobile||!(e.which>1)){var i=new RegExp("-legend-item_([0-9]+)-area","g").exec(e.target.id);i&&(u.D["dragged-offset-y"]=0,u.D["calculate-y"]=!0,u.D["dragged-x"]=0,u.D["dragged-y"]=0,u.N7=ZC._i_(i[1]),u.iDragPos=ZC.AV(u.A.AY.M3,u.N7),ZC.A5(document.body).bind(ZC.Q.C0("mousemove"),u.MM),ZC.A5(document.body).bind(ZC.Q.C0("mouseup"),u.XC))}},u.XC=function(){var e=u.N7,i=u.iDragPos;if(u.N7=-1,u.iDragPos=-1,u.D["calculate-y"]=!1,document.body.style.cursor=u.IR,ZC.move||(e=-1,i=-1),ZC.A5(document.body).unbind(ZC.Q.C0("mousemove"),u.MM),ZC.A5(document.body).unbind(ZC.Q.C0("mouseup"),u.XC),ZC.move&&-1!==e){for(var l=u.A.AY.A4,n=u.A.AY.M3,o=0,a=l.length;o<a;o++)l[o].o["legend-item"]=l[o].o["legend-item"]||{},null===ZC._n_(l[o].o["legend-item"].order)&&(l[o].o["legend-item"].order=ZC._i_(l[o].o["z-index"]||o+1));for(var r=l[e].o["legend-item"].order,t=-1,A=0,d=u.Q0.length;A<d;A++)u.D["dragged-y"]-u.D["dragged-offset-y"]/2>u.Q0[A].iY&&(t=A);for(l[e].o["legend-item"].order=-1===t?.5:l[n[t]].o["legend-item"].order+.5,A=0,d=u.Q0.length;A<d;A++)t>i?l[A].o["legend-item"].order<l[e].o["legend-item"].order&&l[A].o["legend-item"].order>r&&l[A].o["legend-item"].order--:l[A].o["legend-item"].order>l[e].o["legend-item"].order&&l[A].o["legend-item"].order<r&&l[A].o["legend-item"].order++;for(l[e].o["legend-item"].order=t>i?Math.floor(l[e].o["legend-item"].order):Math.ceil(l[e].o["legend-item"].order),A=0,d=u.Q0.length;A<d;A++)u.A.o.series[A]["z-index"]=l[A].o["legend-item"].order}u.A.AY.D["plot-sort"]=!0,ZC.move=!1,u.clear(!1),u.A.K3()},ZC.A5("#"+u.K+"-frame").live(ZC.Q.C0("mouseover"),u.zc_legend_mouseover).live(ZC.Q.C0("mouseout"),u.zc_legend_mouseout),ZC.A5("#"+u.K+"-move-area").live(ZC.Q.C0("mousedown"),u.Z3),ZC.A5("#"+u.K+"-minimize-area").live(ZC.Q.C0("click"),u.Y0),ZC.A5("."+u.K+"-page-area").live(ZC.Q.C0("click"),u.YW),u.BR.o.reorder&&ZC.A5("."+u.A.K+"-legend-item-area").live("mousedown",u.W2)}u.D.showhide=null,1===u.A.A.D["legend-toggling"]||ZC.move||(u.M0&&null===ZC._n_(u.A.A.D["g"+u.A.L+"-legend-collapsed"])||u.A.A.D["g"+u.A.L+"-legend-collapsed"]&&!u.N6)&&(window.setTimeout(function(){u.Y0(!0)},0),u.A.A.D["g"+u.A.L+"-legend-collapsed"]=!0)}},gc:function(){ZC.AO.gc(this,["B6","E","Q0","Z","C7","o","J7","I1","KJ","FO","BR","Z8","G","A","A2","NJ","D3"])}};ZC.V0=ZC.DU.CA(V0),ZC.WE.push("legend"),ZC.JG.prototype.UN=function(){if(!zingchart.SKIP.LEGEND){var e,i=this;if(i.BC){if(i.BC.PM&&i.L!==i.A.AG.length-1&&!i.BC.o.force)return;i.BC.Z=i.BC.C7=i.G.usc()?i.G.mc("top"):ZC.AK(i.K+"-legend-c"),i.BC.paint(),-1===ZC.AV(i.G.KN,"skip_interactivity")&&(i.QR=function(e){var l,n;if(!ZC.move){i.A7&&i.A.A7&&i.A7.AM&&i.A.A7.onmouseover(e);var o=e.targetid||e.target.id,a=ZC._i_(o.replace(i.K,"").replace("-legend-item_","").replace("-legend-marker_","").replace("-area","").replace("-marker","")),r=i.AY.A4[a];if(r.FY&&(i.BC.WR||r.IA)&&r.R.length)for(l=0,n=r.R.length;l<n;l++)if(null!==r.R[l]&&r.R[l].JB&&(r.FN(l).A10("highlight"),i.BC.PM))for(var t=0;t<i.A.AG.length;t++)if(i.A.AG[t].BC&&i.A.AG[t].BC.PM&&i.A.AG[t].AY.A4[r.L]){var A=i.A.AG[t].AY.A4[r.L];A.FN(l)&&A.FN(l).A10("highlight")}ZC.move=!0;var d=r.L;r.o["legend-item"]&&null!==ZC._n_(r.o["legend-item"].order)&&(d=ZC._i_(r.o["legend-item"].order)),i.BC.o["reverse-series"]&&(d=i.AY.A4.length-1-d),i.BC.highlightItem(d),ZC.move=!1;var C=i.AY.A4[a].V1(e);i.D["legend-action-index"]=a,ZC.AO.BZ("legend_mouseover",i.A,C)}},i.PK=function(e){ZC.move||i.A7&&i.A.A7&&i.A7.AM&&i.A.A7.onmousemove(e)},i.R8=function(e){if(!ZC.move){if(i.A7&&i.A.A7&&i.A7.AM&&i.A.A7.onmouseout(e),i.LG(),i.BC.PM)for(var l=0;l<i.A.AG.length;l++)i.A.AG[l].BC&&i.A.AG[l].BC.PM&&i.A.AG[l].LG();ZC.move=!0,i.BC.highlightItem(-1),ZC.move=!1;var n=ZC._c_(i.D["legend-action-index"],0),o=i.AY.A4[n].V1(e);ZC.AO.BZ("legend_mouseout",i.A,o)}},i.zc_legend_mousescroll=function(e){i.BC.DD&&"scroll-y"===i.BC.DD.AF&&(e.preventDefault(),i.BC.DD.A3R(e))},i.SN=function(l){if(i.D.legend_toggle_action=!0,!(ZC.move||(zingchart.SC(l),l.which>1))){var n,o,a,r=l.targetid||l.target.id,t=ZC._b_(i.BC.BR.o.reorder);ZC.mobile&&i.G.A7&&i.G.A7.hide();var A="item";-1!==r.indexOf("-legend-marker_")&&(A="marker"),i.LG(),l.preventDefault();var d=i.BC.IH;"item"===A?d=i.BC.R0:"marker"===A&&(d=i.BC.PN),i.A.K4&&(d="remove"),i.D["legend-last-trigger"]=A;var C=ZC._i_(r.replace(i.K+"-legend-item_","").replace(i.K+"-legend-marker_","").replace("-area",""));if(i.o.series&&i.o.series[C]){if(null!==ZC._n_(e=i.o.series[C]["legend-item"])){var s=e.url||"",g=e.target||"";""!==s&&i.V3(l,s,g)}i.o.series[C].visible=!0}var Z,c,p,B=i.AY.A4[C].V1(l);switch(B.visible=ZC._b_(i.D["plot"+C+".visible"]),ZC.AO.BZ("legend_"+A+"_click",i.A,B),d){default:break;case"hide":case"remove":if(l.shiftKey){var u=0;for(n=0,o=i.AY.A4.length;n<o;n++)if(n!==C&&(a=++u===o-1,i.QE({"ignore-legend":t,K3:a,plotindex:n,"toggle-action":d}),i.BC.PM))for(Z=0,c=i.G.AG.length;Z<c;Z++)(p=i.G.AG[Z]).BC&&p.BC.PM&&p.BC.A4R===i.BC.A4R&&p.K!==i.K&&p.QE({"ignore-legend":!0,K3:a,plotindex:n,"toggle-action":d})}else if(i.QE({"ignore-legend":t,K3:1,plotindex:C,"toggle-action":d}),i.BC.PM)for(Z=0,c=i.G.AG.length;Z<c;Z++)(p=i.G.AG[Z]).BC&&p.BC.PM&&p.BC.A4R===i.BC.A4R&&p.K!==i.K&&p.QE({"ignore-legend":!0,K3:1,plotindex:C,"toggle-action":d})}"hide"===d&&i.D.hooks&&(i.OX(),i.QX())}},ZC.A5("."+i.K+"-legend-item-area").live("mouseup touchstart",i.SN).live("DOMMouseScroll",i.zc_legend_mousescroll).live("mousewheel",i.zc_legend_mousescroll),ZC.A5("."+i.K+"-legend-marker-area").live("mouseup touchstart",i.SN).live("DOMMouseScroll",i.zc_legend_mousescroll).live("mousewheel",i.zc_legend_mousescroll),ZC.A5("#"+i.K+"-legend-frame").live("DOMMouseScroll",i.zc_legend_mousescroll).live("mousewheel",i.zc_legend_mousescroll),ZC.mobile||(ZC.A5("."+i.K+"-legend-item-area").live(ZC.Q.C0("mouseover"),i.QR).live(ZC.Q.C0("mouseout"),i.R8).live(ZC.Q.C0("mousemove"),i.PK),ZC.A5("."+i.K+"-legend-marker-area").live(ZC.Q.C0("mouseover"),i.QR).live(ZC.Q.C0("mouseout"),i.R8).live(ZC.Q.C0("mousemove"),i.PK)))}}};